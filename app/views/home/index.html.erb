<head>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
  <title>MealPals</title>
</head>
<h1>Restaurants List</h1>

<div>
  <% if logged_in? %>
    Welcome, <%= current_user.first_name %> ! <%= link_to "Log Out", logout_session_path(session[:user_id]) %>
    <%#= link_to "Log Out", logout_session_path(current_user) %>
  <% else %>
    <%= link_to "Log In", new_session_path %>
  <% end %>
</div>
<!--<div><%#= link_to "Log In", new_session_path %></div>-->
<!--<div><%#= link_to "Log Out", logout_session_path({id:1}) %></div>-->
<div><%= flash[:notice] %></div>

<table class="table table-hover">
  <thead>
    <tr>
      <th>Name</th>
      <th>Rating</th>
      <th>Address</th>
      <th>Details</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @restaurants.each do |restaurant| %>
      <tr>
        <td><%= restaurant.name %></td>
        <td><%= restaurant.rating %></td>
        <td><%= restaurant.address %></td>
        <td><%= restaurant.details %></td>
        <td><%= link_to 'Detail', restaurant, id: restaurant.name.parameterize.underscore+"_Detail" %></td>
        <td><%= link_to 'Edit', edit_restaurant_path(restaurant), id: restaurant.name.parameterize.underscore+"_Edit"%></td>
        <td><%= link_to 'Destroy', restaurants_delete_path(restaurant), method: :delete, data: { confirm: 'Are you sure?' }, id: restaurant.name.parameterize.underscore+"_Destroy"%></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>
<button type="button" class="btn btn-outline-primary"><%= link_to 'New Restaurant', new_restaurant_path %></button>

